version: "3.7"

# ======================================================================================================================
# Volumes - Volumes are the preferred mechanism for persisting data generated by and used by Docker containers.
# You can list them with the command: 'docker volume ls'
volumes:
  lnd:
    name: lnd
  tapd:
    name: tapd

# ======================================================================================================================
# Services (Docker images).
services:

  # ====================================================================================================================
  # LND.
  lnd:
    build:
      context: ./lnd
      dockerfile: Dockerfile
    hostname: lnd
    restart: always
    ports:
      - "9735:9735"
      - "10009:10009"
    volumes:
      - lnd:/root/.lnd

  # ====================================================================================================================
  # TARO.
  tapd:
    build:
      context: tapd
      dockerfile: Dockerfile
    hostname: tapd
    restart: always
    ports:
      - "8089:8089"
      - "10029:10029"
    volumes:
      - lnd:/root/.lnd
      - tapd:/root/.tapd
    depends_on:
      - lnd
